"use strict";(self["webpackChunkposture_fix_created_by_rehabugrahanozel"]=self["webpackChunkposture_fix_created_by_rehabugrahanozel"]||[]).push([[768],{371:function(e,t,a){a.d(t,{Z:function(){return P}});var s=a(6252);const i={class:"burger"},n={class:"p-menu1"},o={id:"navbar",class:"navigation",role:"navigation"},c=(0,s.uE)('<input id="toggle1" type="checkbox" data-v-c9d213aa><label class="hamburger1" for="toggle1" data-v-c9d213aa><div class="top" data-v-c9d213aa></div><div class="meat" data-v-c9d213aa></div><div class="bottom" data-v-c9d213aa></div></label>',2),r={class:"menu1"};function l(e,t,a,l,u,d){const p=(0,s.up)("PopUp");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("section",n,[(0,s._)("nav",o,[c,(0,s._)("nav",r,[(0,s._)("a",{class:"link1",onClick:t[0]||(t[0]=(...e)=>d.goProfile&&d.goProfile(...e))},"Profile"),(0,s._)("a",{class:"link1",onClick:t[1]||(t[1]=(...e)=>d.goAbout&&d.goAbout(...e))},"About Us"),(0,s._)("a",{class:"link1",style:{color:"#f15b40"},onClick:t[2]||(t[2]=(...e)=>d.openPopUp&&d.openPopUp(...e))},"Logout")])])]),u.popUpActive?((0,s.wg)(),(0,s.j4)(p,{key:0,class:"log-out-pop-up",questionText:"Do you really want to logout?",confirmText:"LogOut",declineText:"Decline",onDecline:d.closePopUp,onConfirm:d.logout},null,8,["onDecline","onConfirm"])):(0,s.kq)("",!0)])}a(7658);var u=a(7491),d=a(3577);const p={class:"outer"},g={class:"text"},m={class:"buttons"};function v(e,t,a,i,n,o){return(0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("div",g,(0,d.zw)(a.questionText),1),(0,s._)("div",m,[(0,s._)("button",{class:"decline",onClick:t[0]||(t[0]=(...e)=>o.decline&&o.decline(...e))},(0,d.zw)(a.declineText),1),(0,s._)("button",{class:"confirm",onClick:t[1]||(t[1]=(...e)=>o.confirm&&o.confirm(...e))},(0,d.zw)(a.confirmText),1)])])}var h={name:"PopUp",props:{questionText:String,confirmText:String,declineText:String},methods:{decline(){this.$emit("decline")},confirm(){this.$emit("confirm")}}},f=a(3744);const _=(0,f.Z)(h,[["render",v],["__scopeId","data-v-b897969e"]]);var b=_,k={name:"BurgerMenu",components:{PopUp:b},data(){return{popUpActive:!1}},methods:{goProfile(){u.Z.push("/profile"),document.getElementById("toggle1").checked=!1},goAbout(){u.Z.push("/aboutUs"),document.getElementById("toggle1").checked=!1},logout(){this.signOut(),u.Z.push("/"),document.getElementById("toggle1").checked=!1},openPopUp(){this.popUpActive=!0},closePopUp(){this.popUpActive=!1},async signOut(){await this.$store.dispatch("logOut")}}};const w=(0,f.Z)(k,[["render",l],["__scopeId","data-v-c9d213aa"]]);var P=w},1562:function(e,t,a){a.d(t,{Z:function(){return l}});var s=a(6252),i=a(3577);function n(e,t,a,n,o,c){return(0,s.wg)(),(0,s.iD)("div",{class:(0,i.C_)(a.wrapper)},[(0,s._)("div",{class:(0,i.C_)(a.text)},(0,i.zw)(a.text),3)],2)}var o={name:"CommonButton",props:{text:String,wrapper:String}},c=a(3744);const r=(0,c.Z)(o,[["render",n],["__scopeId","data-v-d6945e30"]]);var l=r},8014:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var s=a(6252),i=a(3577),n=a(9963),o=a(5265),c=a.p+"img/camera-icon.eda1051d.svg",r=a.p+"img/pen-icon.54da8307.svg",l=a.p+"img/cancel-icon.a3fc8a39.svg",u=a.p+"img/save-icon.90e61b2b.svg",d=a.p+"img/avatar_close.ebc131f2.svg";const p=e=>((0,s.dD)("data-v-3eb2fb46"),e=e(),(0,s.Cn)(),e),g={class:"initial"},m={class:"burger-button"},v=p((()=>(0,s._)("div",{class:"page"},[(0,s._)("h1",null,"Profile")],-1))),h={class:"area"},f={class:"card"},_={class:"photo-section"},b=["src"],k={class:"container"},w={key:0},P={class:"username"},C={key:1,class:"edit-save-cancel"},A=p((()=>(0,s._)("br",null,null,-1))),U={class:"information"},y={key:0,class:"container-wrapper"};function x(e,t,a,p,x,E){const I=(0,s.up)("BurgerMenu"),L=(0,s.up)("CommonButton"),S=(0,s.up)("AvatarList");return(0,s.wg)(),(0,s.iD)("div",g,[(0,s._)("div",null,[(0,s._)("img",{src:o,alt:"back-button",class:"back-button",onClick:t[0]||(t[0]=(...e)=>E.goBack&&E.goBack(...e))}),(0,s._)("div",m,[(0,s.Wm)(I)]),v,(0,s._)("div",h,[(0,s._)("div",f,[(0,s._)("div",_,[(0,s._)("img",{class:"profile-img",id:"profile-img",src:E.profileImage},null,8,b),(0,s._)("img",{class:"image-selector",src:c,onClick:t[1]||(t[1]=(...e)=>E.selectAvatar&&E.selectAvatar(...e))})]),(0,s._)("div",k,[x.editing?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("span",P,(0,i.zw)(E.userName),1),(0,s._)("img",{class:"edit-username",onClick:t[2]||(t[2]=(...e)=>E.enableEditing&&E.enableEditing(...e)),src:r})])),x.editing?((0,s.wg)(),(0,s.iD)("div",C,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>x.tempValue=e),class:"input"},null,512),[[n.nr,x.tempValue]]),(0,s._)("img",{class:"selection-icon",src:l,onClick:t[4]||(t[4]=(...e)=>E.disableEditing&&E.disableEditing(...e))}),(0,s._)("img",{class:"selection-icon",src:u,onClick:t[5]||(t[5]=(...e)=>E.saveEdit&&E.saveEdit(...e))})])):(0,s.kq)("",!0),A,(0,s._)("div",U,(0,i.zw)(E.userEmail),1)])]),(0,s.Wm)(L,{text:"Change Password",class:"button",wrapper:"dark",onClick:E.changePassword},null,8,["onClick"])])]),x.isAvatarListOpen?((0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("img",{class:"avatar-close-img",src:d,onClick:t[6]||(t[6]=e=>x.isAvatarListOpen=!1)}),(0,s.Wm)(S,{onAvatarSelected:E.avatarSelected},null,8,["onAvatarSelected"])])):(0,s.kq)("",!0)])}a(7658);var E=a(371),I=a(1562);const L=["onClick"],S=["src"];function $(e,t,a,i,n,o){return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.avatarList,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"flex-container",key:e},[(0,s._)("div",{class:"avatar",onClick:t=>o.selectAvatar(e)},[(0,s._)("img",{src:e.src,class:"img"},null,8,S)],8,L)])))),128)}var D=a(6650),T={name:"AvatarList",data(){return{avatarList:[]}},mounted(){this.getProfileImage()},methods:{selectAvatar(e){this.$emit("avatarSelected",e.name)},async getProfileImage(){const e=(0,D.cF)(),t=(0,D.iH)(e,"Avatars/");(0,D.aF)(t).then((e=>{e.items.forEach((e=>{(0,D.Jt)(e).then((t=>{const a=new XMLHttpRequest;a.responseType="blob",a.onload=e=>{a.response},a.open("GET",t),a.send(),this.avatarList.push({name:e.name,src:t})})).catch((e=>{console.log(e)}))}))}))}}},Z=a(3744);const B=(0,Z.Z)(T,[["render",$],["__scopeId","data-v-13395445"]]);var q=B,O=a(7491),z={name:"ProfilePage",components:{BurgerMenu:E.Z,CommonButton:I.Z,AvatarList:q},data(){return{tempValue:null,editing:!1,selectedFile:null,testText:"",imageSourceUrl:"",timer:null,isAvatarListOpen:!1}},async created(){window.history.pushState(null,"",window.location.href),window.onpopstate=function(){window.history.pushState(null,"",window.location.href)},this.$store.dispatch("getUserName"),this.$store.dispatch("getUserEmail"),console.log("userdata",this.$store.state.user.data),console.log("username",this.$store.state.user.email),this.getProfileImage()},mounted(){this.$store.dispatch("getUserPicture"),console.log("picture name",this.$store.state.user.picture),this.getProfileImage(this.$store.state.user.picture)},methods:{goBack(){O.Z.push("/home")},changePassword(){O.Z.push("/forgotPassword")},enableEditing:function(){this.tempValue=this.userName,this.editing=!0},disableEditing:function(){this.tempValue=null,this.editing=!1},saveEdit:function(){this.$store.dispatch("setUserName",{name:this.tempValue}),this.value=this.tempValue,this.disableEditing()},selectAvatar(){console.log("avatar select opened"),this.isAvatarListOpen=!0},avatarSelected(e){console.log("avatar selected: ",e),this.getProfileImage(e),this.updateUserPic(e),this.isAvatarListOpen=!1},updateUserPic(e){this.$store.dispatch("setProfileImg",{pictureName:e})},async getProfileImage(e){console.log("get profile image: ",e);const t=(0,D.cF)();(0,D.Jt)((0,D.iH)(t,"Avatars/"+e)).then((e=>{const t=new XMLHttpRequest;t.responseType="blob",t.onload=e=>{t.response},t.open("GET",e),t.send(),this.imageSourceUrl=e})).catch((e=>{console.log(e)}))}},computed:{userName(){return this.$store.state.user.name},userEmail(){return this.$store.state.user.email},profileImage(){return this.imageSourceUrl}},beforeUnmount(){clearInterval(this.timer)}};const V=(0,Z.Z)(z,[["render",x],["__scopeId","data-v-3eb2fb46"]]);var N=V},5265:function(e,t,a){e.exports=a.p+"img/back-button.daea6048.svg"}}]);
//# sourceMappingURL=768.fa2f2836.js.map